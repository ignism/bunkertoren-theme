{% extends 'sections/section.twig' %}

{% set section_classes = ['appartment-plan', 'fit-height'] %}

{% block content %}
    <div class="columns body{% if plan_two %} slider-wrapper{% endif %}">
        <div class="column text-column is-hidden-mobile is-4-tablet is-3-desktop">
            <h1>{{ title }}</h1>
            <p>{{ text }}</p>

            {% if plan_two %}
                <div class="slider-navbar">
                    {% if plan_three %}
                        {% set slides_num = 3 %}
                    {% else %}
                        {% set slides_num = 2 %}
                    {% endif %}
                    {% for item in 1..slides_num %}
                        <div data-slider-index="{{ loop.index0 }}" class="slider-nav-item{% if loop.first %} is-active{% endif %}">
                            <span>0{{ loop.index }}</span>
                        </div>
                    {% endfor %}

                    {% for spacer in 1..(4 - slides_num) %}
                        <div class="slider-nav-spacer"></div>
                    {% endfor %}

                </div>
            {% endif %}
        </div>
        <div class="column plan-column is-7-tablet is-8-desktop is-offset-1-tablet">
            <div class="{% if plan_two %}slider{% endif %}">
                <div class="plan-image">
                    <div class="svg-image-wrapper">
                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                            <defs>
                                <filter id="multiplyBlend">
                                    <feflood result="floodFill" x="0" y="0" width="100%" height="100%" flood-color="{{ blend_color }}" flood-opacity="1"/>
                                    <feblend in="SourceGraphic" in2="floodFill" mode="multiply"/>
                                </filter>
                            </defs>
                            <image xlink:href="{{ TimberImage(plan).src }}" height="100%" width="100%" style="filter:url(#multiplyBlend);"/>
                        </svg>
                    </div>
                    <img src="http://placehold.it/8x5" alt="" class="image-placeholder">
                </div>

                {% if plan_two %}
                    <div class="plan-image">
                        <div class="svg-image-wrapper">
                            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                <defs>
                                    <filter id="multiplyBlend">
                                        <feflood result="floodFill" x="0" y="0" width="100%" height="100%" flood-color="{{ blend_color }}" flood-opacity="1"/>
                                        <feblend in="SourceGraphic" in2="floodFill" mode="multiply"/>
                                    </filter>
                                </defs>
                                <image xlink:href="{{ TimberImage(plan_two).src }}" height="100%" width="100%" style="filter:url(#multiplyBlend);"/>
                            </svg>
                        </div>
                        <img src="http://placehold.it/8x5" alt="" class="image-placeholder">
                    </div>
                {% endif %}

                {% if plan_three %}
                    <div class="plan-image">
                        <div class="svg-image-wrapper">
                            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                <defs>
                                    <filter id="multiplyBlend">
                                        <feflood result="floodFill" x="0" y="0" width="100%" height="100%" flood-color="{{ blend_color }}" flood-opacity="1"/>
                                        <feblend in="SourceGraphic" in2="floodFill" mode="multiply"/>
                                    </filter>
                                </defs>
                                <image xlink:href="{{ TimberImage(plan_three).src }}" height="100%" width="100%" style="filter:url(#multiplyBlend);"/>
                            </svg>
                        </div>
                        <img src="http://placehold.it/8x5" alt="" class="image-placeholder">
                    </div>
                {% endif %}

            </div>
        </div>
        <div class="column is-hidden-tablet">
            {% if plan_two %}
                <div class="slider-navbar">
                    {% if plan_three %}
                        {% set slides_num = 3 %}
                    {% else %}
                        {% set slides_num = 2 %}
                    {% endif %}
                    {% for item in 1..slides_num %}
                        <div data-slider-index="{{ loop.index0 }}" class="slider-nav-item{% if loop.first %} is-active{% endif %}">
                            <span>0{{ loop.index }}</span>
                        </div>
                    {% endfor %}

                    {% for spacer in 1..(4 - slides_num) %}
                        <div class="slider-nav-spacer"></div>
                    {% endfor %}

                </div>
            {% endif %}
        </div>
        <div class="column is-hidden-tablet">
            <h1>{{ title }}</h1>
            <p>{{ text }}</p>
        </div>
    </div>

{% endblock %}