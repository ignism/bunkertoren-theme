{% extends 'base.twig' %}

{% set body_classes = ['page-about', 'has-floating-message'] %}
{% set navbar_image = theme.link ~ '/assets/images/logo.svg' %}
{% set navbar_link = site.link %}
{% set footer_background_color = post.get_field('footer_background_color') %}

{% block body %}

    {% include 'components/header.twig' with {
        'header': post.title,
        'background_color': 'light-gold'
    } %}

    {% for module in post.get_field('block_modules') %}

        {% if module.acf_fc_layout == 'text_image' %}

            {% include 'sections/text-image.twig' with {
                'background_color': module.background_color,
                'is_fullheight': module.is_fullheight,
                'orientation': module.orientation,
                'header': module.header,
                'title': module.title,
                'text': module.text,
                'clipping': module.clipping,
                'slides': module.slides,
                'button': module.button_group
            } %}

        {% elseif module.acf_fc_layout == 'fullwidth_portrait' %}
            
            {% include 'sections/fullwidth-portrait.twig' with { 
                'fullwidth_portrait_image': TimberImage(module.image).src('bunker-fullwidth'),
                'floating_message': module.floating_message
            } %}

        {% elseif module.acf_fc_layout == 'usp_icons' %}
            
            {% include 'sections/usp-icons.twig' with {
                'background_color': module.background_color,
                'icons': module.icons
            } %}

        {% elseif module.acf_fc_layout == 'polygon_box' %}
            
            {% include 'sections/polygon-box.twig' with { 
                'page_variation': module.variation,
                'background_color': 'red',
                'text': module.text,
                'button': {
                    'url': module.button_link,
                    'caption': module.button_caption
                },
                'image': module.image,
                'contact': {
                    'mail': module.contact_mail,
                    'phone': module.contact_phone
                }
            } %}

        {% endif %}

    {% endfor %}

    {% include 'sections/polygon-box.twig' with {
        'page_variation': 'about',
        'background_color': 'red',
        'text': post.get_field('polygon_about_text'),
        'image': post.get_field('polygon_about_image'),
    } %}
   
    {% include 'sections/partners.twig' with {
        'background_color': 'light-gold',
        'section_class': 'fit-height',
        'text': post.get_field('partners_text'),
        'partners': post.get_field('partners')
    } %}

{% endblock %}

